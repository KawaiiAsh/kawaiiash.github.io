"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8571],{34596:function(f,_,n){n.d(_,{FL:function(){return j},H:function(){return A},JR:function(){return o},Kn:function(){return D},S4:function(){return S},Ue:function(){return C},Uy:function(){return Z},Vb:function(){return W},_U:function(){return E},an:function(){return P},bZ:function(){return K},eY:function(){return N},iJ:function(){return y},jw:function(){return x},nn:function(){return T},o$:function(){return c},sg:function(){return g},um:function(){return a},wX:function(){return B},x4:function(){return R},yw:function(){return l},z2:function(){return w}});var s=n(87866),v=n(33746),p=v.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function c(e){return p({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function P(e){return(0,s.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function w(e){return(0,s.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function a(e){return(0,s.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function m(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function l(e){return(0,s.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function C(e){var G=e.id;return delete e.id,(0,s.Z)({url:"/address/create?userId="+G,withCredentials:!1,method:"post",data:e})}function D(e){return(0,s.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function E(e){return(0,s.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function I(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function O(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function R(e){return(0,s.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function d(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function x(e){return(0,s.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function T(e){return(0,s.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function y(e){return(0,s.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function A(e){return(0,s.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function S(e){return(0,s.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function r(e){return request({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function K(e){return(0,s.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function B(e){return(0,s.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function o(e){return(0,s.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function j(e){return(0,s.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function N(e){return(0,s.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function Z(e){return(0,s.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function g(e){return(0,s.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function W(e){return(0,s.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function $(e){return request({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function k(e){return request({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function H(){return fetch("https://api.ipify.org?format=json")}},87866:function(f,_,n){var s=n(31759),v=n.n(s),p=n(33746),c=n(69194),P=n(18015),w=p.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});w.interceptors.request.use(function(a){if(a.url==="/auth/register"||a.url==="/auth/login")return a;(a.url==="/user/apply"||a.url==="/loan/apply")&&(a.headers["Content-Type"]="multipart/form-data");var m=localStorage.getItem("token");return m&&(a.headers.Authorization="Bearer "+m),a},function(a){return console.log(a),Promise.reject(a)}),w.interceptors.response.use(function(a){var m,l=a.data;if(console.log("response-->",l),Array.isArray(l))return Promise.resolve(l);if((m=l.data)!==null&&m!==void 0&&m.token&&(localStorage.setItem("token",l.data.token),localStorage.setItem("userInfo",JSON.stringify(l.data.user))),l.code!==200)return c.FN.show({icon:"fail",content:l.message}),Promise.resolve(l);if(l.code===200||l.message==="SUCCESS")return Promise.resolve(l);if(l.code===305||l.code===306){Promise.reject(l||"error");return}else return l.code===403?(c.FN.show({icon:"fail",content:l.message}),P.history.push("/login"),Promise.resolve(l||"error")):Promise.reject(l||"error")},function(a){return console.log(a,"error"),a.status===403&&(c.FN.show({icon:"fail",content:a.message}),localStorage.removeItem("token"),setTimeout(function(){P.history.push("/login")},1e3)),console.log("request error"+a,v()(a)),Promise.reject(a)}),_.Z=w},57540:function(f,_,n){n.d(_,{Z:function(){return P}});var s=n(75271),v=n(69194),p=n(52676),c=function(a){var m=a.visible;return(0,p.jsx)(v.zd,{visible:m,className:"loading-mask",children:(0,p.jsxs)("div",{className:"loading-container",children:[(0,p.jsx)(v.wW,{style:{"--size":"48px"}}),(0,p.jsx)("span",{className:"loading-text",children:"Loading..."})]})})},P=c},23089:function(f,_,n){n.r(_),n.d(_,{default:function(){return K}});var s=n(26068),v=n.n(s),p=n(90228),c=n.n(p),P=n(87999),w=n.n(P),a=n(48305),m=n.n(a),l=n(90093),C=n(83197),D=n(56413),E=n(69194),I=n(75271),O=n(34596),R=n(5791),d=n(58954),x=n(28936),T=n(48982),y=n(45918),A=n(57540),S=n(59739),r=n(52676);function K(){var B=(0,S.$G)(),o=B.t,j=(0,R.s0)(),N=(0,I.useState)(!0),Z=m()(N,2),g=Z[0],W=Z[1],$=(0,I.useState)(!1),k=m()($,2),H=k[0],e=k[1],G=function(){(0,O.an)(),(0,O.o$)()},V=function(){var b=w()(c()().mark(function M(i){var h;return c()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!i.username||!i.password)){u.next=2;break}return u.abrupt("return",E.FN.show({icon:"fail",content:o("login.content")}));case 2:if(g){u.next=10;break}if(!(!i.fundpassword||!i.phone||!i.invitecode)){u.next=5;break}return u.abrupt("return",E.FN.show({icon:"fail",content:o("login.content")}));case 5:if(!/\s/.test(i.username)){u.next=7;break}return u.abrupt("return",E.FN.show({icon:"fail",content:o("login.usernameNoSpace")}));case 7:if(h=/^[a-zA-Z0-9]+$/,h.test(i.username)){u.next=10;break}return u.abrupt("return",E.FN.show({icon:"fail",content:"Only a-z A-Z 0-9"}));case 10:e(!0),Y(i);case 12:case"end":return u.stop()}},M)}));return function(i){return b.apply(this,arguments)}}(),Y=function(){var b=w()(c()().mark(function M(i){var h,U,u,J,X,F,z,L;return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!g){t.next=7;break}return t.next=4,(0,O.x4)({username_or_phone:i.username,password:i.password});case 4:h=t.sent,t.next=29;break;case 7:return U="",t.prev=8,t.next=11,fetch("https://api.ipify.org?format=json");case 11:return u=t.sent,t.next=14,u.json();case 14:J=t.sent,U=J.ip,t.next=21;break;case 18:t.prev=18,t.t0=t.catch(8),console.warn("\u83B7\u53D6IP\u5931\u8D25\uFF0C\u7EE7\u7EED\u6CE8\u518C\u6D41\u7A0B");case 21:return t.next=23,(0,O.z2)(v()(v()({},i),{},{ip:U}));case 23:if(h=t.sent,h.code!==200){t.next=29;break}return t.next=27,(0,O.x4)({username_or_phone:i.username,password:i.password});case 27:X=t.sent,h=X;case 29:e(!1),h.code===200?(localStorage.setItem("token",((F=h.data)===null||F===void 0?void 0:F.token)||""),localStorage.setItem("userInfo",JSON.stringify(((z=h.data)===null||z===void 0?void 0:z.user)||{})),localStorage.setItem("username",i.username),E.FN.show({icon:"success",content:g?"Success":"Register Success"}),L=localStorage.getItem("prevPath")||"/order",console.log("\u5F53\u524D prevPath =",L," \u5F53\u524D\u8DEF\u7531 =",location.pathname),L===location.pathname?j("/order"):j(L),localStorage.removeItem("prevPath")):E.FN.show({icon:"fail",content:h.message||"Fail"}),t.next=37;break;case 33:t.prev=33,t.t1=t.catch(0),e(!1),E.FN.show({icon:"fail",content:t.t1.message||"Network Error"});case 37:case"end":return t.stop()}},M,null,[[0,33],[8,18]])}));return function(i){return b.apply(this,arguments)}}();return(0,I.useEffect)(function(){localStorage.setItem("prevPath","/orderlogin"),localStorage.removeItem("token"),localStorage.removeItem("userInfo"),localStorage.removeItem("username")},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{visible:H}),(0,r.jsxs)("div",{className:d.Z.header,children:[(0,r.jsxs)("div",{className:d.Z.logoChunk,children:[(0,r.jsx)("img",{src:x,alt:""}),(0,r.jsx)("span",{children:"HK"})]}),(0,r.jsx)("div",{className:d.Z.tips,children:o("login.cyptro")}),(0,r.jsx)(l.ZP,{onClick:function(){return j("/LanguageSwitchPage")},className:d.Z.Language,children:o("login.language")})]}),(0,r.jsxs)("div",{className:d.Z.content,children:[(0,r.jsxs)("div",{className:d.Z.icons,children:[(0,r.jsxs)("div",{className:d.Z.icon_item,children:[(0,r.jsx)("img",{src:T,alt:""}),(0,r.jsx)("span",{children:o("login.nofee")}),(0,r.jsx)("span",{children:o("login.saleoff")})]}),(0,r.jsxs)("div",{className:d.Z.icon_item,children:[(0,r.jsx)("img",{src:y,alt:""}),(0,r.jsx)("span",{children:o("login.refund")}),(0,r.jsx)("span",{children:o("login.nintyday")})]})]}),(0,r.jsx)("div",{className:d.Z.from,children:(0,r.jsxs)(C.Z,{layout:"horizontal",onFinish:V,children:[(0,r.jsx)(C.Z.Item,{label:o("login.username"),name:"username",children:(0,r.jsx)(D.Z,{placeholder:o("login.username")})}),(0,r.jsx)(C.Z.Item,{label:o("login.password"),name:"password",children:(0,r.jsx)(D.Z,{placeholder:o("login.password"),type:"password"})}),!g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C.Z.Item,{label:o("login.phone"),name:"phone",children:(0,r.jsx)(D.Z,{placeholder:o("login.phone")})}),(0,r.jsx)(C.Z.Item,{label:o("login.fundpassword"),name:"fundpassword",children:(0,r.jsx)(D.Z,{placeholder:o("login.fundpassword"),type:"password"})}),(0,r.jsx)(C.Z.Item,{label:o("login.invitecode"),name:"invitecode",children:(0,r.jsx)(D.Z,{placeholder:o("login.invitecode")})})]}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(C.Z.Item,{children:(0,r.jsx)(l.ZP,{type:"primary",htmlType:"submit",className:d.Z.submit,children:o(g?"login.submit":"login.register")})}),(0,r.jsx)("span",{className:d.Z.switch,onClick:function(){return W(!g)},children:o(g?"login.register":"login.gologin")}),g&&(0,r.jsx)("div",{className:d.Z.contactSupport,onClick:function(){return j("/order/meeting")},children:o("home.footer.customerService")})]})})]})]})}},58954:function(f,_){_.Z={loginContainer:"loginContainer____VnY_",header:"header___zT8pi",logoChunk:"logoChunk___awGh5",Language:"Language___rg0P4",tips:"tips___uUgm8",content:"content___XKXsU",icons:"icons___yRpvd",icon_item:"icon_item___RMZlM",from:"from___hOciD",submit:"submit___s6nvi",switch:"switch___dw9M1",contactSupport:"contactSupport___SoXRu"}},48982:function(f,_,n){f.exports=n.p+"static/login_1.7a21782e.webp"},45918:function(f,_,n){f.exports=n.p+"static/login_2.0613a608.webp"},28936:function(f,_,n){f.exports=n.p+"static/logo.a6b1e098.webp"}}]);
